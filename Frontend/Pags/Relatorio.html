<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HelpOffice - Relatórios</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../CSS/Styles_Relatorio.css">
    <script src="../JS/Relatorio.js" defer></script>
</head>

<body>
    <!-- Header Section -->
    <header class="header">
        <div class="brand">
            <div class="brand-name">HelpOffice</div>
        </div>

        <div class="user-info">
            <div class="user-avatar" id="user-avatar"></div>
            <div class="user-name" id="user-name"></div>
            <a href="../Pags/TecMenu.html" class="report-btn">Gerenciamento</a>
        </div>
    </header>

    <div class="container">
        <!-- Report Configuration Section -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-chart-bar"></i> Configuração de Relatórios</h2>

            <div class="report-section">
                <div class="report-options">
                    <div class="form-group">
                        <label for="report-type">Tipo de Relatório</label>
                        <select id="report-type" class="form-control">
                            <option value="status">Chamados por Status</option>
                            <option value="department">Chamados por Departamento</option>
                            <option value="technician">Chamados por Técnico</option>
                            <option value="time">Tempo Médio de Resolução</option>
                            <option value="priority">Chamados por Prioridade</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="period">Período</label>
                        <select id="period" class="form-control">
                            <option value="today">Hoje</option>
                            <option value="week">Esta Semana</option>
                            <option value="month">Este Mês</option>
                            <option value="quarter">Este Trimestre</option>
                            <option value="year">Este Ano</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>

                    <div id="custom-date-range" style="display: none;">
                        <div class="form-group">
                            <label for="start-date">Data Inicial</label>
                            <input type="date" id="start-date" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="end-date">Data Final</label>
                            <input type="date" id="end-date" class="form-control">
                        </div>
                    </div>

                    <button id="generate-report" class="btn btn-primary">
                        <i class="fas fa-sync-alt"></i> Gerar Relatório
                    </button>
                </div>
            </div>
        </div>

        <!-- Report Visualization Section -->
        <div class="report-visualization">
            <div class="chart-container">
                <canvas id="main-chart"></canvas>
            </div>
            <div class="table-container">
                <table id="report-table">
                    <thead>
                        <tr>
                            <th>Categoria</th>
                            <th>Quantidade</th>
                            <th>Porcentagem</th>
                        </tr>
                    </thead>
                    <tbody id="report-data">
                        <!-- Dados serão carregados dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Management Section -->
        <div class="card management-section">
            <div class="management-title">
                <i class="fas fa-cog"></i> Gerenciamento - Painel Adm
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" id="generate-pdf">
                    <i class="fas fa-file-pdf"></i> Gerar Relatório PDF
                </button>
                <button class="btn btn-success" id="export-excel">
                    <i class="fas fa-file-excel"></i> Exportar para Excel
                </button>
            </div>
        </div>

        <!-- Department Details Section -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-chart-pie"></i>
                <select id="department-chart-selector" class="chart-selector">
                    <!-- Departamentos serão carregados dinamicamente -->
                </select>
                - Status Detalhado
            </h2>
            <div class="chart-container">
                <canvas id="department-chart"></canvas>
            </div>
            <div class="table-container">
                <table id="department-table">
                    <thead>
                        <tr>
                            <th>Status</th>
                            <th>Quantidade</th>
                            <th>Porcentagem</th>
                        </tr>
                    </thead>
                    <tbody id="department-data">
                        <!-- Dados serão carregados dinamicamente -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div>&copy; 2025 HelpOffice - Todos os direitos reservados</div>
        <div class="slogan">Nada se perde, tudo se resolve.</div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</body>

</html>